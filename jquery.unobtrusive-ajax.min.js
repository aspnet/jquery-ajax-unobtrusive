/* 
 * Microsoft grants you the right to use these script files for the sole
 * purpose of either: (i) interacting through your browser with the Microsoft
 * website or online service, subject to the applicable licensing or use
 * terms; or (ii) using the files as included with a Microsoft product subject
 * to that product's license terms. Microsoft reserves all other rights to the
 * files not expressly granted by Microsoft, whether by implication, estoppel
 * or otherwise. Insofar as a script file is dual licensed under GPL,
 * Microsoft neither took the code under GPL nor distributes it thereunder but
 * under the terms set out in this paragraph. All notices and licenses
 * below are for informational purposes only.
/*!
** Unobtrusive Ajax support library for jQuery
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
!function(t){function a(t,a){for(var e=window,r=(t||"").split(".");e&&r.length;)e=e[r.shift()];return"function"==typeof e?e:(a.push(t),Function.constructor.apply(null,a))}function e(t){return"GET"===t||"POST"===t}function r(t,a){e(a)||t.setRequestHeader("X-HTTP-Method-Override",a)}function n(a,e,r){var n;-1===r.indexOf("application/x-javascript")&&(n=(a.getAttribute("data-ajax-mode")||"").toUpperCase(),t(a.getAttribute("data-ajax-update")).each(function(a,r){var i;switch(n){case"BEFORE":i=r.firstChild,t("<div />").html(e).contents().each(function(){r.insertBefore(this,i)});break;case"AFTER":t("<div />").html(e).contents().each(function(){r.appendChild(this)});break;case"REPLACE-WITH":t(r).replaceWith(e);break;default:t(r).html(e)}}))}function i(i,u){var o,s,c,d;o=i.getAttribute("data-ajax-confirm"),(!o||window.confirm(o))&&(s=t(i.getAttribute("data-ajax-loading")),d=parseInt(i.getAttribute("data-ajax-loading-duration"),10)||0,t.extend(u,{type:i.getAttribute("data-ajax-method")||void 0,url:i.getAttribute("data-ajax-url")||void 0,cache:"true"===(i.getAttribute("data-ajax-cache")||"").toLowerCase(),beforeSend:function(e,n){var u;r(e,c),u=a(i.getAttribute("data-ajax-begin"),["xhr"]).apply(i,arguments);var o={xhr:e,settings:n,canContinue:u};return t(i).trigger("ajax:begin",o),o.canContinue!==!1&&s.show(d),o.canContinue},complete:function(e,r){s.hide(d),a(i.getAttribute("data-ajax-complete"),["xhr","status"]).apply(i,arguments),t(i).trigger("ajax:complete",{xhr:e,textStatus:r})},success:function(e,r,u){n(i,e,u.getResponseHeader("Content-Type")||"text/html"),a(i.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(i,arguments),t(i).trigger("ajax:success",{data:e,status:r,xhr:u})},error:function(e,r,n){a(i.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(i,arguments),t(i).trigger("ajax:failure",{xhr:e,textStatus:r,errorThrown:n})}}),u.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),c=u.type.toUpperCase(),e(c)||(u.type="POST",u.data.push({name:"X-HTTP-Method-Override",value:c})),t.ajax(u))}function u(a){var e=t(a).data(c);return!e||!e.validate||e.validate()}var o="unobtrusiveAjaxClick",s="unobtrusiveAjaxClickTarget",c="unobtrusiveValidation";t(document).on("click","a[data-ajax=true]",function(t){t.preventDefault(),i(this,{url:this.href,type:"GET",data:[]})}),t(document).on("click","form[data-ajax=true] input[type=image]",function(a){var e=a.target.name,r=t(a.target),n=t(r.parents("form")[0]),i=r.offset();n.data(o,[{name:e+".x",value:Math.round(a.pageX-i.left)},{name:e+".y",value:Math.round(a.pageY-i.top)}]),setTimeout(function(){n.removeData(o)},0)}),t(document).on("click","form[data-ajax=true] :submit",function(a){var e=a.currentTarget.name,r=t(a.target),n=t(r.parents("form")[0]);n.data(o,e?[{name:e,value:a.currentTarget.value}]:[]),n.data(s,r),setTimeout(function(){n.removeData(o),n.removeData(s)},0)}),t(document).on("submit","form[data-ajax=true]",function(a){var e=t(this).data(o)||[],r=t(this).data(s),n=r&&r.hasClass("cancel");a.preventDefault(),(n||u(this))&&i(this,{url:this.action,type:this.method||"GET",data:e.concat(t(this).serializeArray())})})}(jQuery);